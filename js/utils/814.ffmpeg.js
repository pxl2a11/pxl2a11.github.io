<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><meta name="description" content="The CDN for everything on npm"/><link rel="icon" type="image/jpeg" href="/favicon.jpg"/><link rel="stylesheet" href="https://app.unpkg.com/_assets/styles-D6XP7YEC.css"/><link rel="stylesheet" href="https://app.unpkg.com/_assets/code-light-B2LHUSJR.css"/><script type="importmap">{"imports":{"preact":"https://unpkg.com/preact@10.25.4/dist/preact.module.js","preact/hooks":"https://unpkg.com/preact@10.25.4/hooks/dist/hooks.module.js","preact/jsx-runtime":"https://unpkg.com/preact@10.25.4/jsx-runtime/dist/jsxRuntime.module.js"}}</script><script type="module" src="https://app.unpkg.com/_assets/scripts-5LWG6LQM.js" defer></script><title>UNPKG</title><script async src="https://www.googletagmanager.com/gtag/js?id=UA-140352188-1"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-140352188-1');</script></head><body><header class="border-b border-slate-300 bg-slate-100 text-slate-950"><div class="p-4 mx-auto flex justify-between items-center lg:max-w-screen-xl"><h1 class="text-2xl font-bold inline-block"><a href="https://unpkg.com">UNPKG</a></h1><span class="inline-block h-full"><a href="https://github.com/unpkg"><svg aria-hidden="true" fill="currentColor" viewBox="0 0 24 24" class="w-6 h-6"><path fill-rule="evenodd" d="M12.006 2a9.847 9.847 0 0 0-6.484 2.44 10.32 10.32 0 0 0-3.393 6.17 10.48 10.48 0 0 0 1.317 6.955 10.045 10.045 0 0 0 5.4 4.418c.504.095.683-.223.683-.494 0-.245-.01-1.052-.014-1.908-2.78.62-3.366-1.21-3.366-1.21a2.711 2.711 0 0 0-1.11-1.5c-.907-.637.07-.621.07-.621.317.044.62.163.885.346.266.183.487.426.647.71.135.253.318.476.538.655a2.079 2.079 0 0 0 2.37.196c.045-.52.27-1.006.635-1.37-2.219-.259-4.554-1.138-4.554-5.07a4.022 4.022 0 0 1 1.031-2.75 3.77 3.77 0 0 1 .096-2.713s.839-.275 2.749 1.05a9.26 9.26 0 0 1 5.004 0c1.906-1.325 2.74-1.05 2.74-1.05.37.858.406 1.828.101 2.713a4.017 4.017 0 0 1 1.029 2.75c0 3.939-2.339 4.805-4.564 5.058a2.471 2.471 0 0 1 .679 1.897c0 1.372-.012 2.477-.012 2.814 0 .272.18.592.687.492a10.05 10.05 0 0 0 5.388-4.421 10.473 10.473 0 0 0 1.313-6.948 10.32 10.32 0 0 0-3.39-6.165A9.847 9.847 0 0 0 12.007 2Z" clip-rule="evenodd"></path></svg></a></span></div></header><main class="px-4 pb-24 mx-auto lg:max-w-screen-xl lg:pb-44"><header class="pt-6 pb-4 lg:pt-16"><div class="mb-6 flex justify-between items-center"><h1 class="text-black text-3xl leading-tight font-semibold">@ffmpeg/ffmpeg</h1><div class="text-right w-48"><span>Version: </span><span data-hydrate="{&quot;key&quot;:&quot;VersionSelector&quot;,&quot;props&quot;:{&quot;availableTags&quot;:{&quot;next&quot;:&quot;0.12.0-alpha.1&quot;,&quot;latest&quot;:&quot;0.12.15&quot;},&quot;availableVersions&quot;:[&quot;0.12.15&quot;,&quot;0.12.14&quot;,&quot;0.12.13&quot;,&quot;0.12.12&quot;,&quot;0.12.10&quot;,&quot;0.12.9&quot;,&quot;0.12.8&quot;,&quot;0.12.7&quot;,&quot;0.12.6&quot;,&quot;0.12.5&quot;,&quot;0.12.4&quot;,&quot;0.12.3&quot;,&quot;0.12.2&quot;,&quot;0.12.1&quot;,&quot;0.12.0&quot;,&quot;0.12.0-alpha.1&quot;,&quot;0.11.6&quot;,&quot;0.11.5&quot;,&quot;0.11.4&quot;,&quot;0.11.3&quot;,&quot;0.11.2&quot;,&quot;0.11.1&quot;,&quot;0.11.0&quot;,&quot;0.10.1&quot;,&quot;0.10.0&quot;,&quot;0.9.8&quot;,&quot;0.9.7&quot;,&quot;0.9.6&quot;,&quot;0.9.5&quot;,&quot;0.9.4&quot;,&quot;0.9.3&quot;,&quot;0.9.2&quot;,&quot;0.9.1&quot;,&quot;0.9.0&quot;,&quot;0.8.3&quot;,&quot;0.8.2&quot;,&quot;0.8.1&quot;,&quot;0.8.0&quot;,&quot;0.7.0&quot;,&quot;0.6.1&quot;,&quot;0.6.0&quot;,&quot;0.5.2&quot;,&quot;0.5.1&quot;,&quot;0.5.0&quot;,&quot;0.4.1&quot;,&quot;0.4.0&quot;,&quot;0.3.0&quot;,&quot;0.2.2&quot;,&quot;0.2.1&quot;,&quot;0.2.0&quot;,&quot;0.1.0&quot;],&quot;currentVersion&quot;:&quot;0.12.15&quot;,&quot;pathnameFormat&quot;:&quot;/@ffmpeg/ffmpeg@%s/files/dist/umd/814.ffmpeg.js&quot;,&quot;class&quot;:&quot;w-28 p-1 border border-slate-300 bg-slate-100 text-sm&quot;}}"><select name="version" class="w-28 p-1 border border-slate-300 bg-slate-100 text-sm"><optgroup label="Tags"><option selected value="0.12.15">latest (0.12.15)</option><option value="0.12.0-alpha.1">next (0.12.0-alpha.1)</option></optgroup><optgroup label="Versions"><option selected value="0.12.15">0.12.15</option><option value="0.12.14">0.12.14</option><option value="0.12.13">0.12.13</option><option value="0.12.12">0.12.12</option><option value="0.12.10">0.12.10</option><option value="0.12.9">0.12.9</option><option value="0.12.8">0.12.8</option><option value="0.12.7">0.12.7</option><option value="0.12.6">0.12.6</option><option value="0.12.5">0.12.5</option><option value="0.12.4">0.12.4</option><option value="0.12.3">0.12.3</option><option value="0.12.2">0.12.2</option><option value="0.12.1">0.12.1</option><option value="0.12.0">0.12.0</option><option value="0.12.0-alpha.1">0.12.0-alpha.1</option><option value="0.11.6">0.11.6</option><option value="0.11.5">0.11.5</option><option value="0.11.4">0.11.4</option><option value="0.11.3">0.11.3</option><option value="0.11.2">0.11.2</option><option value="0.11.1">0.11.1</option><option value="0.11.0">0.11.0</option><option value="0.10.1">0.10.1</option><option value="0.10.0">0.10.0</option><option value="0.9.8">0.9.8</option><option value="0.9.7">0.9.7</option><option value="0.9.6">0.9.6</option><option value="0.9.5">0.9.5</option><option value="0.9.4">0.9.4</option><option value="0.9.3">0.9.3</option><option value="0.9.2">0.9.2</option><option value="0.9.1">0.9.1</option><option value="0.9.0">0.9.0</option><option value="0.8.3">0.8.3</option><option value="0.8.2">0.8.2</option><option value="0.8.1">0.8.1</option><option value="0.8.0">0.8.0</option><option value="0.7.0">0.7.0</option><option value="0.6.1">0.6.1</option><option value="0.6.0">0.6.0</option><option value="0.5.2">0.5.2</option><option value="0.5.1">0.5.1</option><option value="0.5.0">0.5.0</option><option value="0.4.1">0.4.1</option><option value="0.4.0">0.4.0</option><option value="0.3.0">0.3.0</option><option value="0.2.2">0.2.2</option><option value="0.2.1">0.2.1</option><option value="0.2.0">0.2.0</option><option value="0.1.0">0.1.0</option></optgroup></select></span></div></div><div class="mt-2"><p class="mb-3 leading-tight"><span>FFmpeg WebAssembly version for browser</span></p><div class="lg:hidden"><p class="mt-1 text-sm leading-4"><a href="https://github.com/ffmpegwasm/ffmpeg.wasm#readme" title="Visit the @ffmpeg/ffmpeg website" class="inline-flex items-center hover:text-slate-950 hover:underline"><svg aria-hidden="true" fill="none" viewBox="0 0 24 24" class="w-6 h-6"><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13.213 9.787a3.391 3.391 0 0 0-4.795 0l-3.425 3.426a3.39 3.39 0 0 0 4.795 4.794l.321-.304m-.321-4.49a3.39 3.39 0 0 0 4.795 0l3.424-3.426a3.39 3.39 0 0 0-4.794-4.795l-1.028.961"></path></svg><span class="ml-1">github.com/ffmpegwasm/ffmpeg.wasm</span></a></p><p class="mt-1 text-sm leading-4"><a href="https://github.com/ffmpegwasm/ffmpeg.wasm" title="View the @ffmpeg/ffmpeg repository on GitHub" class="inline-flex items-center hover:text-slate-950 hover:underline"><svg aria-hidden="true" fill="currentColor" viewBox="0 0 24 24" class="w-6 h-6"><path fill-rule="evenodd" d="M12.006 2a9.847 9.847 0 0 0-6.484 2.44 10.32 10.32 0 0 0-3.393 6.17 10.48 10.48 0 0 0 1.317 6.955 10.045 10.045 0 0 0 5.4 4.418c.504.095.683-.223.683-.494 0-.245-.01-1.052-.014-1.908-2.78.62-3.366-1.21-3.366-1.21a2.711 2.711 0 0 0-1.11-1.5c-.907-.637.07-.621.07-.621.317.044.62.163.885.346.266.183.487.426.647.71.135.253.318.476.538.655a2.079 2.079 0 0 0 2.37.196c.045-.52.27-1.006.635-1.37-2.219-.259-4.554-1.138-4.554-5.07a4.022 4.022 0 0 1 1.031-2.75 3.77 3.77 0 0 1 .096-2.713s.839-.275 2.749 1.05a9.26 9.26 0 0 1 5.004 0c1.906-1.325 2.74-1.05 2.74-1.05.37.858.406 1.828.101 2.713a4.017 4.017 0 0 1 1.029 2.75c0 3.939-2.339 4.805-4.564 5.058a2.471 2.471 0 0 1 .679 1.897c0 1.372-.012 2.477-.012 2.814 0 .272.18.592.687.492a10.05 10.05 0 0 0 5.388-4.421 10.473 10.473 0 0 0 1.313-6.948 10.32 10.32 0 0 0-3.39-6.165A9.847 9.847 0 0 0 12.007 2Z" clip-rule="evenodd"></path></svg><span class="ml-1">ffmpegwasm/ffmpeg.wasm</span></a></p></div></div></header><nav class="py-2"><span><a href="https://app.unpkg.com/@ffmpeg/ffmpeg@0.12.15" class="text-blue-600 hover:underline">@ffmpeg/ffmpeg</a></span><span> / </span><span><a href="https://app.unpkg.com/@ffmpeg/ffmpeg@0.12.15/files/dist" class="text-blue-600 hover:underline">dist</a></span><span> / </span><span><a href="https://app.unpkg.com/@ffmpeg/ffmpeg@0.12.15/files/dist/umd" class="text-blue-600 hover:underline">umd</a></span><span> / </span><span>814.ffmpeg.js</span></nav><div class="p-3 border border-slate-300 bg-slate-100 text-sm flex justify-between select-none"><div class="w-64"><span><span>2 lines </span><span>â€¢ </span></span><span>3.18 kB</span></div><div class="hidden flex-grow sm:block text-center">JavaScript</div><div class="w-64 hidden sm:block text-right"><a href="https://unpkg.com/@ffmpeg/ffmpeg@0.12.15/dist/umd/814.ffmpeg.js" class="py-1 px-2 border border-slate-300 bg-slate-100 hover:bg-slate-200 rounded-sm">View Raw</a></div></div><div data-hydrate="{&quot;key&quot;:&quot;CodeViewer&quot;,&quot;props&quot;:{&quot;html&quot;:&quot;!&lt;span class=\&quot;hljs-keyword\&quot;>function&lt;/span>(&lt;span class=\&quot;hljs-params\&quot;>e,t&lt;/span>){&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;object&amp;quot;&lt;/span>==&lt;span class=\&quot;hljs-keyword\&quot;>typeof&lt;/span> &lt;span class=\&quot;hljs-built_in\&quot;>exports&lt;/span>&amp;amp;&amp;amp;&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;object&amp;quot;&lt;/span>==&lt;span class=\&quot;hljs-keyword\&quot;>typeof&lt;/span> &lt;span class=\&quot;hljs-variable language_\&quot;>module&lt;/span>?&lt;span class=\&quot;hljs-variable language_\&quot;>module&lt;/span>.&lt;span class=\&quot;hljs-property\&quot;>exports&lt;/span>=&lt;span class=\&quot;hljs-title function_\&quot;>t&lt;/span>():&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;function&amp;quot;&lt;/span>==&lt;span class=\&quot;hljs-keyword\&quot;>typeof&lt;/span> define&amp;amp;&amp;amp;define.&lt;span class=\&quot;hljs-property\&quot;>amd&lt;/span>?&lt;span class=\&quot;hljs-title function_\&quot;>define&lt;/span>([],t):&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;object&amp;quot;&lt;/span>==&lt;span class=\&quot;hljs-keyword\&quot;>typeof&lt;/span> &lt;span class=\&quot;hljs-built_in\&quot;>exports&lt;/span>?&lt;span class=\&quot;hljs-built_in\&quot;>exports&lt;/span>.&lt;span class=\&quot;hljs-property\&quot;>FFmpegWASM&lt;/span>=&lt;span class=\&quot;hljs-title function_\&quot;>t&lt;/span>():e.&lt;span class=\&quot;hljs-property\&quot;>FFmpegWASM&lt;/span>=&lt;span class=\&quot;hljs-title function_\&quot;>t&lt;/span>()}(self,(&lt;span class=\&quot;hljs-function\&quot;>()=&amp;gt;&lt;/span>(&lt;span class=\&quot;hljs-function\&quot;>()=&amp;gt;&lt;/span>{&lt;span class=\&quot;hljs-keyword\&quot;>var&lt;/span> e={&lt;span class=\&quot;hljs-number\&quot;>454&lt;/span>:&lt;span class=\&quot;hljs-function\&quot;>&lt;span class=\&quot;hljs-params\&quot;>e&lt;/span>=&amp;gt;&lt;/span>{&lt;span class=\&quot;hljs-keyword\&quot;>function&lt;/span> &lt;span class=\&quot;hljs-title function_\&quot;>t&lt;/span>(&lt;span class=\&quot;hljs-params\&quot;>e&lt;/span>){&lt;span class=\&quot;hljs-keyword\&quot;>return&lt;/span> &lt;span class=\&quot;hljs-title class_\&quot;>Promise&lt;/span>.&lt;span class=\&quot;hljs-title function_\&quot;>resolve&lt;/span>().&lt;span class=\&quot;hljs-title function_\&quot;>then&lt;/span>((&lt;span class=\&quot;hljs-function\&quot;>()=&amp;gt;&lt;/span>{&lt;span class=\&quot;hljs-keyword\&quot;>var&lt;/span> t=&lt;span class=\&quot;hljs-keyword\&quot;>new&lt;/span> &lt;span class=\&quot;hljs-title class_\&quot;>Error&lt;/span>(&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;Cannot find module &amp;#x27;&amp;quot;&lt;/span>+e+&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;&amp;#x27;&amp;quot;&lt;/span>);&lt;span class=\&quot;hljs-keyword\&quot;>throw&lt;/span> t.&lt;span class=\&quot;hljs-property\&quot;>code&lt;/span>=&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;MODULE_NOT_FOUND&amp;quot;&lt;/span>,t}))}t.&lt;span class=\&quot;hljs-property\&quot;>keys&lt;/span>=&lt;span class=\&quot;hljs-function\&quot;>()=&amp;gt;&lt;/span>[],t.&lt;span class=\&quot;hljs-property\&quot;>resolve&lt;/span>=t,t.&lt;span class=\&quot;hljs-property\&quot;>id&lt;/span>=&lt;span class=\&quot;hljs-number\&quot;>454&lt;/span>,e.&lt;span class=\&quot;hljs-property\&quot;>exports&lt;/span>=t}},t={};&lt;span class=\&quot;hljs-keyword\&quot;>function&lt;/span> &lt;span class=\&quot;hljs-title function_\&quot;>r&lt;/span>(&lt;span class=\&quot;hljs-params\&quot;>o&lt;/span>){&lt;span class=\&quot;hljs-keyword\&quot;>var&lt;/span> s=t[o];&lt;span class=\&quot;hljs-keyword\&quot;>if&lt;/span>(&lt;span class=\&quot;hljs-keyword\&quot;>void&lt;/span> &lt;span class=\&quot;hljs-number\&quot;>0&lt;/span>!==s)&lt;span class=\&quot;hljs-keyword\&quot;>return&lt;/span> s.&lt;span class=\&quot;hljs-property\&quot;>exports&lt;/span>;&lt;span class=\&quot;hljs-keyword\&quot;>var&lt;/span> a=t[o]={&lt;span class=\&quot;hljs-attr\&quot;>exports&lt;/span>:{}};&lt;span class=\&quot;hljs-keyword\&quot;>return&lt;/span> e[o](a,a.&lt;span class=\&quot;hljs-property\&quot;>exports&lt;/span>,r),a.&lt;span class=\&quot;hljs-property\&quot;>exports&lt;/span>}&lt;span class=\&quot;hljs-keyword\&quot;>return&lt;/span> r.&lt;span class=\&quot;hljs-property\&quot;>o&lt;/span>=&lt;span class=\&quot;hljs-function\&quot;>(&lt;span class=\&quot;hljs-params\&quot;>e,t&lt;/span>)=&amp;gt;&lt;/span>&lt;span class=\&quot;hljs-title class_\&quot;>Object&lt;/span>.&lt;span class=\&quot;hljs-property\&quot;>&lt;span class=\&quot;hljs-keyword\&quot;>prototype&lt;/span>&lt;/span>.&lt;span class=\&quot;hljs-property\&quot;>hasOwnProperty&lt;/span>.&lt;span class=\&quot;hljs-title function_\&quot;>call&lt;/span>(e,t),(&lt;span class=\&quot;hljs-function\&quot;>()=&amp;gt;&lt;/span>{&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;use strict&amp;quot;&lt;/span>;&lt;span class=\&quot;hljs-keyword\&quot;>const&lt;/span> e=&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;https://unpkg.com/@ffmpeg/core@0.12.9/dist/umd/ffmpeg-core.js&amp;quot;&lt;/span>;&lt;span class=\&quot;hljs-keyword\&quot;>var&lt;/span> t;!&lt;span class=\&quot;hljs-keyword\&quot;>function&lt;/span>(&lt;span class=\&quot;hljs-params\&quot;>e&lt;/span>){e.&lt;span class=\&quot;hljs-property\&quot;>LOAD&lt;/span>=&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;LOAD&amp;quot;&lt;/span>,e.&lt;span class=\&quot;hljs-property\&quot;>EXEC&lt;/span>=&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;EXEC&amp;quot;&lt;/span>,e.&lt;span class=\&quot;hljs-property\&quot;>FFPROBE&lt;/span>=&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;FFPROBE&amp;quot;&lt;/span>,e.&lt;span class=\&quot;hljs-property\&quot;>WRITE_FILE&lt;/span>=&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;WRITE_FILE&amp;quot;&lt;/span>,e.&lt;span class=\&quot;hljs-property\&quot;>READ_FILE&lt;/span>=&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;READ_FILE&amp;quot;&lt;/span>,e.&lt;span class=\&quot;hljs-property\&quot;>DELETE_FILE&lt;/span>=&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;DELETE_FILE&amp;quot;&lt;/span>,e.&lt;span class=\&quot;hljs-property\&quot;>RENAME&lt;/span>=&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;RENAME&amp;quot;&lt;/span>,e.&lt;span class=\&quot;hljs-property\&quot;>CREATE_DIR&lt;/span>=&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;CREATE_DIR&amp;quot;&lt;/span>,e.&lt;span class=\&quot;hljs-property\&quot;>LIST_DIR&lt;/span>=&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;LIST_DIR&amp;quot;&lt;/span>,e.&lt;span class=\&quot;hljs-property\&quot;>DELETE_DIR&lt;/span>=&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;DELETE_DIR&amp;quot;&lt;/span>,e.&lt;span class=\&quot;hljs-property\&quot;>ERROR&lt;/span>=&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;ERROR&amp;quot;&lt;/span>,e.&lt;span class=\&quot;hljs-property\&quot;>DOWNLOAD&lt;/span>=&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;DOWNLOAD&amp;quot;&lt;/span>,e.&lt;span class=\&quot;hljs-property\&quot;>PROGRESS&lt;/span>=&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;PROGRESS&amp;quot;&lt;/span>,e.&lt;span class=\&quot;hljs-property\&quot;>LOG&lt;/span>=&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;LOG&amp;quot;&lt;/span>,e.&lt;span class=\&quot;hljs-property\&quot;>MOUNT&lt;/span>=&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;MOUNT&amp;quot;&lt;/span>,e.&lt;span class=\&quot;hljs-property\&quot;>UNMOUNT&lt;/span>=&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;UNMOUNT&amp;quot;&lt;/span>}(t||(t={}));&lt;span class=\&quot;hljs-keyword\&quot;>const&lt;/span> o=&lt;span class=\&quot;hljs-keyword\&quot;>new&lt;/span> &lt;span class=\&quot;hljs-title class_\&quot;>Error&lt;/span>(&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;unknown message type&amp;quot;&lt;/span>),s=&lt;span class=\&quot;hljs-keyword\&quot;>new&lt;/span> &lt;span class=\&quot;hljs-title class_\&quot;>Error&lt;/span>(&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;ffmpeg is not loaded, call `await ffmpeg.load()` first&amp;quot;&lt;/span>),a=(&lt;span class=\&quot;hljs-keyword\&quot;>new&lt;/span> &lt;span class=\&quot;hljs-title class_\&quot;>Error&lt;/span>(&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;called FFmpeg.terminate()&amp;quot;&lt;/span>),&lt;span class=\&quot;hljs-keyword\&quot;>new&lt;/span> &lt;span class=\&quot;hljs-title class_\&quot;>Error&lt;/span>(&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;failed to import ffmpeg-core.js&amp;quot;&lt;/span>));&lt;span class=\&quot;hljs-keyword\&quot;>let&lt;/span> n;self.&lt;span class=\&quot;hljs-property\&quot;>onmessage&lt;/span>=&lt;span class=\&quot;hljs-title function_\&quot;>async&lt;/span>({&lt;span class=\&quot;hljs-attr\&quot;>data&lt;/span>:{&lt;span class=\&quot;hljs-attr\&quot;>id&lt;/span>:E,&lt;span class=\&quot;hljs-attr\&quot;>type&lt;/span>:c,&lt;span class=\&quot;hljs-attr\&quot;>data&lt;/span>:i}})=&amp;gt;{&lt;span class=\&quot;hljs-keyword\&quot;>const&lt;/span> p=[];&lt;span class=\&quot;hljs-keyword\&quot;>let&lt;/span> f;&lt;span class=\&quot;hljs-keyword\&quot;>try&lt;/span>{&lt;span class=\&quot;hljs-keyword\&quot;>if&lt;/span>(c!==t.&lt;span class=\&quot;hljs-property\&quot;>LOAD&lt;/span>&amp;amp;&amp;amp;!n)&lt;span class=\&quot;hljs-keyword\&quot;>throw&lt;/span> s;&lt;span class=\&quot;hljs-keyword\&quot;>switch&lt;/span>(c){&lt;span class=\&quot;hljs-keyword\&quot;>case&lt;/span> t.&lt;span class=\&quot;hljs-property\&quot;>LOAD&lt;/span>:f=&lt;span class=\&quot;hljs-title function_\&quot;>await&lt;/span>(&lt;span class=\&quot;hljs-title function_\&quot;>async&lt;/span>({&lt;span class=\&quot;hljs-attr\&quot;>coreURL&lt;/span>:o,&lt;span class=\&quot;hljs-attr\&quot;>wasmURL&lt;/span>:s,&lt;span class=\&quot;hljs-attr\&quot;>workerURL&lt;/span>:E})=&amp;gt;{&lt;span class=\&quot;hljs-keyword\&quot;>const&lt;/span> c=!n;&lt;span class=\&quot;hljs-keyword\&quot;>try&lt;/span>{o||(o=e),&lt;span class=\&quot;hljs-title function_\&quot;>importScripts&lt;/span>(o)}&lt;span class=\&quot;hljs-keyword\&quot;>catch&lt;/span>{&lt;span class=\&quot;hljs-keyword\&quot;>if&lt;/span>(o&amp;amp;&amp;amp;o!==e||(o=e.&lt;span class=\&quot;hljs-title function_\&quot;>replace&lt;/span>(&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;/umd/&amp;quot;&lt;/span>,&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;/esm/&amp;quot;&lt;/span>)),self.&lt;span class=\&quot;hljs-property\&quot;>createFFmpegCore&lt;/span>=(&lt;span class=\&quot;hljs-keyword\&quot;>await&lt;/span> &lt;span class=\&quot;hljs-title function_\&quot;>r&lt;/span>(&lt;span class=\&quot;hljs-number\&quot;>454&lt;/span>)(o)).&lt;span class=\&quot;hljs-property\&quot;>default&lt;/span>,!self.&lt;span class=\&quot;hljs-property\&quot;>createFFmpegCore&lt;/span>)&lt;span class=\&quot;hljs-keyword\&quot;>throw&lt;/span> a}&lt;span class=\&quot;hljs-keyword\&quot;>const&lt;/span> i=o,p=s||o.&lt;span class=\&quot;hljs-title function_\&quot;>replace&lt;/span>(&lt;span class=\&quot;hljs-regexp\&quot;>/.js$/g&lt;/span>,&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;.wasm&amp;quot;&lt;/span>),f=E||o.&lt;span class=\&quot;hljs-title function_\&quot;>replace&lt;/span>(&lt;span class=\&quot;hljs-regexp\&quot;>/.js$/g&lt;/span>,&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;.worker.js&amp;quot;&lt;/span>);&lt;span class=\&quot;hljs-keyword\&quot;>return&lt;/span> n=&lt;span class=\&quot;hljs-keyword\&quot;>await&lt;/span> self.&lt;span class=\&quot;hljs-title function_\&quot;>createFFmpegCore&lt;/span>({&lt;span class=\&quot;hljs-attr\&quot;>mainScriptUrlOrBlob&lt;/span>:&lt;span class=\&quot;hljs-string\&quot;>`&lt;span class=\&quot;hljs-subst\&quot;>${i}&lt;/span>#&lt;span class=\&quot;hljs-subst\&quot;>${btoa(&lt;span class=\&quot;hljs-built_in\&quot;>JSON&lt;/span>.stringify({wasmURL:p,workerURL:f}))}&lt;/span>`&lt;/span>}),n.&lt;span class=\&quot;hljs-title function_\&quot;>setLogger&lt;/span>((&lt;span class=\&quot;hljs-function\&quot;>&lt;span class=\&quot;hljs-params\&quot;>e&lt;/span>=&amp;gt;&lt;/span>self.&lt;span class=\&quot;hljs-title function_\&quot;>postMessage&lt;/span>({&lt;span class=\&quot;hljs-attr\&quot;>type&lt;/span>:t.&lt;span class=\&quot;hljs-property\&quot;>LOG&lt;/span>,&lt;span class=\&quot;hljs-attr\&quot;>data&lt;/span>:e}))),n.&lt;span class=\&quot;hljs-title function_\&quot;>setProgress&lt;/span>((&lt;span class=\&quot;hljs-function\&quot;>&lt;span class=\&quot;hljs-params\&quot;>e&lt;/span>=&amp;gt;&lt;/span>self.&lt;span class=\&quot;hljs-title function_\&quot;>postMessage&lt;/span>({&lt;span class=\&quot;hljs-attr\&quot;>type&lt;/span>:t.&lt;span class=\&quot;hljs-property\&quot;>PROGRESS&lt;/span>,&lt;span class=\&quot;hljs-attr\&quot;>data&lt;/span>:e}))),c})(i);&lt;span class=\&quot;hljs-keyword\&quot;>break&lt;/span>;&lt;span class=\&quot;hljs-keyword\&quot;>case&lt;/span> t.&lt;span class=\&quot;hljs-property\&quot;>EXEC&lt;/span>:f=(&lt;span class=\&quot;hljs-function\&quot;>(&lt;span class=\&quot;hljs-params\&quot;>{args:e,timeout:t=-&lt;span class=\&quot;hljs-number\&quot;>1&lt;/span>}&lt;/span>)=&amp;gt;&lt;/span>{n.&lt;span class=\&quot;hljs-built_in\&quot;>setTimeout&lt;/span>(t),n.&lt;span class=\&quot;hljs-title function_\&quot;>exec&lt;/span>(...e);&lt;span class=\&quot;hljs-keyword\&quot;>const&lt;/span> r=n.&lt;span class=\&quot;hljs-property\&quot;>ret&lt;/span>;&lt;span class=\&quot;hljs-keyword\&quot;>return&lt;/span> n.&lt;span class=\&quot;hljs-title function_\&quot;>reset&lt;/span>(),r})(i);&lt;span class=\&quot;hljs-keyword\&quot;>break&lt;/span>;&lt;span class=\&quot;hljs-keyword\&quot;>case&lt;/span> t.&lt;span class=\&quot;hljs-property\&quot;>FFPROBE&lt;/span>:f=(&lt;span class=\&quot;hljs-function\&quot;>(&lt;span class=\&quot;hljs-params\&quot;>{args:e,timeout:t=-&lt;span class=\&quot;hljs-number\&quot;>1&lt;/span>}&lt;/span>)=&amp;gt;&lt;/span>{n.&lt;span class=\&quot;hljs-built_in\&quot;>setTimeout&lt;/span>(t),n.&lt;span class=\&quot;hljs-title function_\&quot;>ffprobe&lt;/span>(...e);&lt;span class=\&quot;hljs-keyword\&quot;>const&lt;/span> r=n.&lt;span class=\&quot;hljs-property\&quot;>ret&lt;/span>;&lt;span class=\&quot;hljs-keyword\&quot;>return&lt;/span> n.&lt;span class=\&quot;hljs-title function_\&quot;>reset&lt;/span>(),r})(i);&lt;span class=\&quot;hljs-keyword\&quot;>break&lt;/span>;&lt;span class=\&quot;hljs-keyword\&quot;>case&lt;/span> t.&lt;span class=\&quot;hljs-property\&quot;>WRITE_FILE&lt;/span>:f=(&lt;span class=\&quot;hljs-function\&quot;>(&lt;span class=\&quot;hljs-params\&quot;>{path:e,data:t}&lt;/span>)=&amp;gt;&lt;/span>(n.&lt;span class=\&quot;hljs-property\&quot;>FS&lt;/span>.&lt;span class=\&quot;hljs-title function_\&quot;>writeFile&lt;/span>(e,t),!&lt;span class=\&quot;hljs-number\&quot;>0&lt;/span>))(i);&lt;span class=\&quot;hljs-keyword\&quot;>break&lt;/span>;&lt;span class=\&quot;hljs-keyword\&quot;>case&lt;/span> t.&lt;span class=\&quot;hljs-property\&quot;>READ_FILE&lt;/span>:f=(&lt;span class=\&quot;hljs-function\&quot;>(&lt;span class=\&quot;hljs-params\&quot;>{path:e,encoding:t}&lt;/span>)=&amp;gt;&lt;/span>n.&lt;span class=\&quot;hljs-property\&quot;>FS&lt;/span>.&lt;span class=\&quot;hljs-title function_\&quot;>readFile&lt;/span>(e,{&lt;span class=\&quot;hljs-attr\&quot;>encoding&lt;/span>:t}))(i);&lt;span class=\&quot;hljs-keyword\&quot;>break&lt;/span>;&lt;span class=\&quot;hljs-keyword\&quot;>case&lt;/span> t.&lt;span class=\&quot;hljs-property\&quot;>DELETE_FILE&lt;/span>:f=(&lt;span class=\&quot;hljs-function\&quot;>(&lt;span class=\&quot;hljs-params\&quot;>{path:e}&lt;/span>)=&amp;gt;&lt;/span>(n.&lt;span class=\&quot;hljs-property\&quot;>FS&lt;/span>.&lt;span class=\&quot;hljs-title function_\&quot;>unlink&lt;/span>(e),!&lt;span class=\&quot;hljs-number\&quot;>0&lt;/span>))(i);&lt;span class=\&quot;hljs-keyword\&quot;>break&lt;/span>;&lt;span class=\&quot;hljs-keyword\&quot;>case&lt;/span> t.&lt;span class=\&quot;hljs-property\&quot;>RENAME&lt;/span>:f=(&lt;span class=\&quot;hljs-function\&quot;>(&lt;span class=\&quot;hljs-params\&quot;>{oldPath:e,newPath:t}&lt;/span>)=&amp;gt;&lt;/span>(n.&lt;span class=\&quot;hljs-property\&quot;>FS&lt;/span>.&lt;span class=\&quot;hljs-title function_\&quot;>rename&lt;/span>(e,t),!&lt;span class=\&quot;hljs-number\&quot;>0&lt;/span>))(i);&lt;span class=\&quot;hljs-keyword\&quot;>break&lt;/span>;&lt;span class=\&quot;hljs-keyword\&quot;>case&lt;/span> t.&lt;span class=\&quot;hljs-property\&quot;>CREATE_DIR&lt;/span>:f=(&lt;span class=\&quot;hljs-function\&quot;>(&lt;span class=\&quot;hljs-params\&quot;>{path:e}&lt;/span>)=&amp;gt;&lt;/span>(n.&lt;span class=\&quot;hljs-property\&quot;>FS&lt;/span>.&lt;span class=\&quot;hljs-title function_\&quot;>mkdir&lt;/span>(e),!&lt;span class=\&quot;hljs-number\&quot;>0&lt;/span>))(i);&lt;span class=\&quot;hljs-keyword\&quot;>break&lt;/span>;&lt;span class=\&quot;hljs-keyword\&quot;>case&lt;/span> t.&lt;span class=\&quot;hljs-property\&quot;>LIST_DIR&lt;/span>:f=(&lt;span class=\&quot;hljs-function\&quot;>(&lt;span class=\&quot;hljs-params\&quot;>{path:e}&lt;/span>)=&amp;gt;&lt;/span>{&lt;span class=\&quot;hljs-keyword\&quot;>const&lt;/span> t=n.&lt;span class=\&quot;hljs-property\&quot;>FS&lt;/span>.&lt;span class=\&quot;hljs-title function_\&quot;>readdir&lt;/span>(e),r=[];&lt;span class=\&quot;hljs-keyword\&quot;>for&lt;/span>(&lt;span class=\&quot;hljs-keyword\&quot;>const&lt;/span> o &lt;span class=\&quot;hljs-keyword\&quot;>of&lt;/span> t){&lt;span class=\&quot;hljs-keyword\&quot;>const&lt;/span> t=n.&lt;span class=\&quot;hljs-property\&quot;>FS&lt;/span>.&lt;span class=\&quot;hljs-title function_\&quot;>stat&lt;/span>(&lt;span class=\&quot;hljs-string\&quot;>`&lt;span class=\&quot;hljs-subst\&quot;>${e}&lt;/span>/&lt;span class=\&quot;hljs-subst\&quot;>${o}&lt;/span>`&lt;/span>),s=n.&lt;span class=\&quot;hljs-property\&quot;>FS&lt;/span>.&lt;span class=\&quot;hljs-title function_\&quot;>isDir&lt;/span>(t.&lt;span class=\&quot;hljs-property\&quot;>mode&lt;/span>);r.&lt;span class=\&quot;hljs-title function_\&quot;>push&lt;/span>({&lt;span class=\&quot;hljs-attr\&quot;>name&lt;/span>:o,&lt;span class=\&quot;hljs-attr\&quot;>isDir&lt;/span>:s})}&lt;span class=\&quot;hljs-keyword\&quot;>return&lt;/span> r})(i);&lt;span class=\&quot;hljs-keyword\&quot;>break&lt;/span>;&lt;span class=\&quot;hljs-keyword\&quot;>case&lt;/span> t.&lt;span class=\&quot;hljs-property\&quot;>DELETE_DIR&lt;/span>:f=(&lt;span class=\&quot;hljs-function\&quot;>(&lt;span class=\&quot;hljs-params\&quot;>{path:e}&lt;/span>)=&amp;gt;&lt;/span>(n.&lt;span class=\&quot;hljs-property\&quot;>FS&lt;/span>.&lt;span class=\&quot;hljs-title function_\&quot;>rmdir&lt;/span>(e),!&lt;span class=\&quot;hljs-number\&quot;>0&lt;/span>))(i);&lt;span class=\&quot;hljs-keyword\&quot;>break&lt;/span>;&lt;span class=\&quot;hljs-keyword\&quot;>case&lt;/span> t.&lt;span class=\&quot;hljs-property\&quot;>MOUNT&lt;/span>:f=(&lt;span class=\&quot;hljs-function\&quot;>(&lt;span class=\&quot;hljs-params\&quot;>{fsType:e,options:t,mountPoint:r}&lt;/span>)=&amp;gt;&lt;/span>{&lt;span class=\&quot;hljs-keyword\&quot;>const&lt;/span> o=e,s=n.&lt;span class=\&quot;hljs-property\&quot;>FS&lt;/span>.&lt;span class=\&quot;hljs-property\&quot;>filesystems&lt;/span>[o];&lt;span class=\&quot;hljs-keyword\&quot;>return&lt;/span>!!s&amp;amp;&amp;amp;(n.&lt;span class=\&quot;hljs-property\&quot;>FS&lt;/span>.&lt;span class=\&quot;hljs-title function_\&quot;>mount&lt;/span>(s,t,r),!&lt;span class=\&quot;hljs-number\&quot;>0&lt;/span>)})(i);&lt;span class=\&quot;hljs-keyword\&quot;>break&lt;/span>;&lt;span class=\&quot;hljs-keyword\&quot;>case&lt;/span> t.&lt;span class=\&quot;hljs-property\&quot;>UNMOUNT&lt;/span>:f=(&lt;span class=\&quot;hljs-function\&quot;>(&lt;span class=\&quot;hljs-params\&quot;>{mountPoint:e}&lt;/span>)=&amp;gt;&lt;/span>(n.&lt;span class=\&quot;hljs-property\&quot;>FS&lt;/span>.&lt;span class=\&quot;hljs-title function_\&quot;>unmount&lt;/span>(e),!&lt;span class=\&quot;hljs-number\&quot;>0&lt;/span>))(i);&lt;span class=\&quot;hljs-keyword\&quot;>break&lt;/span>;&lt;span class=\&quot;hljs-attr\&quot;>default&lt;/span>:&lt;span class=\&quot;hljs-keyword\&quot;>throw&lt;/span> o}}&lt;span class=\&quot;hljs-keyword\&quot;>catch&lt;/span>(e){&lt;span class=\&quot;hljs-keyword\&quot;>return&lt;/span> &lt;span class=\&quot;hljs-keyword\&quot;>void&lt;/span> self.&lt;span class=\&quot;hljs-title function_\&quot;>postMessage&lt;/span>({&lt;span class=\&quot;hljs-attr\&quot;>id&lt;/span>:E,&lt;span class=\&quot;hljs-attr\&quot;>type&lt;/span>:t.&lt;span class=\&quot;hljs-property\&quot;>ERROR&lt;/span>,&lt;span class=\&quot;hljs-attr\&quot;>data&lt;/span>:e.&lt;span class=\&quot;hljs-title function_\&quot;>toString&lt;/span>()})}f &lt;span class=\&quot;hljs-keyword\&quot;>instanceof&lt;/span> &lt;span class=\&quot;hljs-title class_\&quot;>Uint8Array&lt;/span>&amp;amp;&amp;amp;p.&lt;span class=\&quot;hljs-title function_\&quot;>push&lt;/span>(f.&lt;span class=\&quot;hljs-property\&quot;>buffer&lt;/span>),self.&lt;span class=\&quot;hljs-title function_\&quot;>postMessage&lt;/span>({&lt;span class=\&quot;hljs-attr\&quot;>id&lt;/span>:E,&lt;span class=\&quot;hljs-attr\&quot;>type&lt;/span>:c,&lt;span class=\&quot;hljs-attr\&quot;>data&lt;/span>:f},p)}})(),{}})()));\n&lt;span class=\&quot;hljs-comment\&quot;>//# sourceMappingURL=814.ffmpeg.js.map&lt;/span>&quot;,&quot;numLines&quot;:2}}"><div class="flex relative bg-white font-mono text-sm leading-6"><div class="py-4 border-b border-x border-slate-300 bg-slate-100 text-right select-none"><div><div class="relative"><a id="L1" href="#L1" class="inline-block w-full pl-4 sm:pl-6 pr-2 text-slate-600 hover:text-slate-950 outline-none">1</a></div></div><div><div class="relative"><a id="L2" href="#L2" class="inline-block w-full pl-4 sm:pl-6 pr-2 text-slate-600 hover:text-slate-950 outline-none">2</a></div></div></div><div class="py-4 pl-4 pr-6 relative border-b border-r border-slate-300 flex-grow whitespace-pre overflow-x-auto" style="tab-size:2;">!<span class="hljs-keyword">function</span>(<span class="hljs-params">e,t</span>){<span class="hljs-string">&quot;object&quot;</span>==<span class="hljs-keyword">typeof</span> <span class="hljs-built_in">exports</span>&amp;&amp;<span class="hljs-string">&quot;object&quot;</span>==<span class="hljs-keyword">typeof</span> <span class="hljs-variable language_">module</span>?<span class="hljs-variable language_">module</span>.<span class="hljs-property">exports</span>=<span class="hljs-title function_">t</span>():<span class="hljs-string">&quot;function&quot;</span>==<span class="hljs-keyword">typeof</span> define&amp;&amp;define.<span class="hljs-property">amd</span>?<span class="hljs-title function_">define</span>([],t):<span class="hljs-string">&quot;object&quot;</span>==<span class="hljs-keyword">typeof</span> <span class="hljs-built_in">exports</span>?<span class="hljs-built_in">exports</span>.<span class="hljs-property">FFmpegWASM</span>=<span class="hljs-title function_">t</span>():e.<span class="hljs-property">FFmpegWASM</span>=<span class="hljs-title function_">t</span>()}(self,(<span class="hljs-function">()=&gt;</span>(<span class="hljs-function">()=&gt;</span>{<span class="hljs-keyword">var</span> e={<span class="hljs-number">454</span>:<span class="hljs-function"><span class="hljs-params">e</span>=&gt;</span>{<span class="hljs-keyword">function</span> <span class="hljs-title function_">t</span>(<span class="hljs-params">e</span>){<span class="hljs-keyword">return</span> <span class="hljs-title class_">Promise</span>.<span class="hljs-title function_">resolve</span>().<span class="hljs-title function_">then</span>((<span class="hljs-function">()=&gt;</span>{<span class="hljs-keyword">var</span> t=<span class="hljs-keyword">new</span> <span class="hljs-title class_">Error</span>(<span class="hljs-string">&quot;Cannot find module &#x27;&quot;</span>+e+<span class="hljs-string">&quot;&#x27;&quot;</span>);<span class="hljs-keyword">throw</span> t.<span class="hljs-property">code</span>=<span class="hljs-string">&quot;MODULE_NOT_FOUND&quot;</span>,t}))}t.<span class="hljs-property">keys</span>=<span class="hljs-function">()=&gt;</span>[],t.<span class="hljs-property">resolve</span>=t,t.<span class="hljs-property">id</span>=<span class="hljs-number">454</span>,e.<span class="hljs-property">exports</span>=t}},t={};<span class="hljs-keyword">function</span> <span class="hljs-title function_">r</span>(<span class="hljs-params">o</span>){<span class="hljs-keyword">var</span> s=t[o];<span class="hljs-keyword">if</span>(<span class="hljs-keyword">void</span> <span class="hljs-number">0</span>!==s)<span class="hljs-keyword">return</span> s.<span class="hljs-property">exports</span>;<span class="hljs-keyword">var</span> a=t[o]={<span class="hljs-attr">exports</span>:{}};<span class="hljs-keyword">return</span> e[o](a,a.<span class="hljs-property">exports</span>,r),a.<span class="hljs-property">exports</span>}<span class="hljs-keyword">return</span> r.<span class="hljs-property">o</span>=<span class="hljs-function">(<span class="hljs-params">e,t</span>)=&gt;</span><span class="hljs-title class_">Object</span>.<span class="hljs-property"><span class="hljs-keyword">prototype</span></span>.<span class="hljs-property">hasOwnProperty</span>.<span class="hljs-title function_">call</span>(e,t),(<span class="hljs-function">()=&gt;</span>{<span class="hljs-string">&quot;use strict&quot;</span>;<span class="hljs-keyword">const</span> e=<span class="hljs-string">&quot;https://unpkg.com/@ffmpeg/core@0.12.9/dist/umd/ffmpeg-core.js&quot;</span>;<span class="hljs-keyword">var</span> t;!<span class="hljs-keyword">function</span>(<span class="hljs-params">e</span>){e.<span class="hljs-property">LOAD</span>=<span class="hljs-string">&quot;LOAD&quot;</span>,e.<span class="hljs-property">EXEC</span>=<span class="hljs-string">&quot;EXEC&quot;</span>,e.<span class="hljs-property">FFPROBE</span>=<span class="hljs-string">&quot;FFPROBE&quot;</span>,e.<span class="hljs-property">WRITE_FILE</span>=<span class="hljs-string">&quot;WRITE_FILE&quot;</span>,e.<span class="hljs-property">READ_FILE</span>=<span class="hljs-string">&quot;READ_FILE&quot;</span>,e.<span class="hljs-property">DELETE_FILE</span>=<span class="hljs-string">&quot;DELETE_FILE&quot;</span>,e.<span class="hljs-property">RENAME</span>=<span class="hljs-string">&quot;RENAME&quot;</span>,e.<span class="hljs-property">CREATE_DIR</span>=<span class="hljs-string">&quot;CREATE_DIR&quot;</span>,e.<span class="hljs-property">LIST_DIR</span>=<span class="hljs-string">&quot;LIST_DIR&quot;</span>,e.<span class="hljs-property">DELETE_DIR</span>=<span class="hljs-string">&quot;DELETE_DIR&quot;</span>,e.<span class="hljs-property">ERROR</span>=<span class="hljs-string">&quot;ERROR&quot;</span>,e.<span class="hljs-property">DOWNLOAD</span>=<span class="hljs-string">&quot;DOWNLOAD&quot;</span>,e.<span class="hljs-property">PROGRESS</span>=<span class="hljs-string">&quot;PROGRESS&quot;</span>,e.<span class="hljs-property">LOG</span>=<span class="hljs-string">&quot;LOG&quot;</span>,e.<span class="hljs-property">MOUNT</span>=<span class="hljs-string">&quot;MOUNT&quot;</span>,e.<span class="hljs-property">UNMOUNT</span>=<span class="hljs-string">&quot;UNMOUNT&quot;</span>}(t||(t={}));<span class="hljs-keyword">const</span> o=<span class="hljs-keyword">new</span> <span class="hljs-title class_">Error</span>(<span class="hljs-string">&quot;unknown message type&quot;</span>),s=<span class="hljs-keyword">new</span> <span class="hljs-title class_">Error</span>(<span class="hljs-string">&quot;ffmpeg is not loaded, call `await ffmpeg.load()` first&quot;</span>),a=(<span class="hljs-keyword">new</span> <span class="hljs-title class_">Error</span>(<span class="hljs-string">&quot;called FFmpeg.terminate()&quot;</span>),<span class="hljs-keyword">new</span> <span class="hljs-title class_">Error</span>(<span class="hljs-string">&quot;failed to import ffmpeg-core.js&quot;</span>));<span class="hljs-keyword">let</span> n;self.<span class="hljs-property">onmessage</span>=<span class="hljs-title function_">async</span>({<span class="hljs-attr">data</span>:{<span class="hljs-attr">id</span>:E,<span class="hljs-attr">type</span>:c,<span class="hljs-attr">data</span>:i}})=&gt;{<span class="hljs-keyword">const</span> p=[];<span class="hljs-keyword">let</span> f;<span class="hljs-keyword">try</span>{<span class="hljs-keyword">if</span>(c!==t.<span class="hljs-property">LOAD</span>&amp;&amp;!n)<span class="hljs-keyword">throw</span> s;<span class="hljs-keyword">switch</span>(c){<span class="hljs-keyword">case</span> t.<span class="hljs-property">LOAD</span>:f=<span class="hljs-title function_">await</span>(<span class="hljs-title function_">async</span>({<span class="hljs-attr">coreURL</span>:o,<span class="hljs-attr">wasmURL</span>:s,<span class="hljs-attr">workerURL</span>:E})=&gt;{<span class="hljs-keyword">const</span> c=!n;<span class="hljs-keyword">try</span>{o||(o=e),<span class="hljs-title function_">importScripts</span>(o)}<span class="hljs-keyword">catch</span>{<span class="hljs-keyword">if</span>(o&amp;&amp;o!==e||(o=e.<span class="hljs-title function_">replace</span>(<span class="hljs-string">&quot;/umd/&quot;</span>,<span class="hljs-string">&quot;/esm/&quot;</span>)),self.<span class="hljs-property">createFFmpegCore</span>=(<span class="hljs-keyword">await</span> <span class="hljs-title function_">r</span>(<span class="hljs-number">454</span>)(o)).<span class="hljs-property">default</span>,!self.<span class="hljs-property">createFFmpegCore</span>)<span class="hljs-keyword">throw</span> a}<span class="hljs-keyword">const</span> i=o,p=s||o.<span class="hljs-title function_">replace</span>(<span class="hljs-regexp">/.js$/g</span>,<span class="hljs-string">&quot;.wasm&quot;</span>),f=E||o.<span class="hljs-title function_">replace</span>(<span class="hljs-regexp">/.js$/g</span>,<span class="hljs-string">&quot;.worker.js&quot;</span>);<span class="hljs-keyword">return</span> n=<span class="hljs-keyword">await</span> self.<span class="hljs-title function_">createFFmpegCore</span>({<span class="hljs-attr">mainScriptUrlOrBlob</span>:<span class="hljs-string">`<span class="hljs-subst">${i}</span>#<span class="hljs-subst">${btoa(<span class="hljs-built_in">JSON</span>.stringify({wasmURL:p,workerURL:f}))}</span>`</span>}),n.<span class="hljs-title function_">setLogger</span>((<span class="hljs-function"><span class="hljs-params">e</span>=&gt;</span>self.<span class="hljs-title function_">postMessage</span>({<span class="hljs-attr">type</span>:t.<span class="hljs-property">LOG</span>,<span class="hljs-attr">data</span>:e}))),n.<span class="hljs-title function_">setProgress</span>((<span class="hljs-function"><span class="hljs-params">e</span>=&gt;</span>self.<span class="hljs-title function_">postMessage</span>({<span class="hljs-attr">type</span>:t.<span class="hljs-property">PROGRESS</span>,<span class="hljs-attr">data</span>:e}))),c})(i);<span class="hljs-keyword">break</span>;<span class="hljs-keyword">case</span> t.<span class="hljs-property">EXEC</span>:f=(<span class="hljs-function">(<span class="hljs-params">{args:e,timeout:t=-<span class="hljs-number">1</span>}</span>)=&gt;</span>{n.<span class="hljs-built_in">setTimeout</span>(t),n.<span class="hljs-title function_">exec</span>(...e);<span class="hljs-keyword">const</span> r=n.<span class="hljs-property">ret</span>;<span class="hljs-keyword">return</span> n.<span class="hljs-title function_">reset</span>(),r})(i);<span class="hljs-keyword">break</span>;<span class="hljs-keyword">case</span> t.<span class="hljs-property">FFPROBE</span>:f=(<span class="hljs-function">(<span class="hljs-params">{args:e,timeout:t=-<span class="hljs-number">1</span>}</span>)=&gt;</span>{n.<span class="hljs-built_in">setTimeout</span>(t),n.<span class="hljs-title function_">ffprobe</span>(...e);<span class="hljs-keyword">const</span> r=n.<span class="hljs-property">ret</span>;<span class="hljs-keyword">return</span> n.<span class="hljs-title function_">reset</span>(),r})(i);<span class="hljs-keyword">break</span>;<span class="hljs-keyword">case</span> t.<span class="hljs-property">WRITE_FILE</span>:f=(<span class="hljs-function">(<span class="hljs-params">{path:e,data:t}</span>)=&gt;</span>(n.<span class="hljs-property">FS</span>.<span class="hljs-title function_">writeFile</span>(e,t),!<span class="hljs-number">0</span>))(i);<span class="hljs-keyword">break</span>;<span class="hljs-keyword">case</span> t.<span class="hljs-property">READ_FILE</span>:f=(<span class="hljs-function">(<span class="hljs-params">{path:e,encoding:t}</span>)=&gt;</span>n.<span class="hljs-property">FS</span>.<span class="hljs-title function_">readFile</span>(e,{<span class="hljs-attr">encoding</span>:t}))(i);<span class="hljs-keyword">break</span>;<span class="hljs-keyword">case</span> t.<span class="hljs-property">DELETE_FILE</span>:f=(<span class="hljs-function">(<span class="hljs-params">{path:e}</span>)=&gt;</span>(n.<span class="hljs-property">FS</span>.<span class="hljs-title function_">unlink</span>(e),!<span class="hljs-number">0</span>))(i);<span class="hljs-keyword">break</span>;<span class="hljs-keyword">case</span> t.<span class="hljs-property">RENAME</span>:f=(<span class="hljs-function">(<span class="hljs-params">{oldPath:e,newPath:t}</span>)=&gt;</span>(n.<span class="hljs-property">FS</span>.<span class="hljs-title function_">rename</span>(e,t),!<span class="hljs-number">0</span>))(i);<span class="hljs-keyword">break</span>;<span class="hljs-keyword">case</span> t.<span class="hljs-property">CREATE_DIR</span>:f=(<span class="hljs-function">(<span class="hljs-params">{path:e}</span>)=&gt;</span>(n.<span class="hljs-property">FS</span>.<span class="hljs-title function_">mkdir</span>(e),!<span class="hljs-number">0</span>))(i);<span class="hljs-keyword">break</span>;<span class="hljs-keyword">case</span> t.<span class="hljs-property">LIST_DIR</span>:f=(<span class="hljs-function">(<span class="hljs-params">{path:e}</span>)=&gt;</span>{<span class="hljs-keyword">const</span> t=n.<span class="hljs-property">FS</span>.<span class="hljs-title function_">readdir</span>(e),r=[];<span class="hljs-keyword">for</span>(<span class="hljs-keyword">const</span> o <span class="hljs-keyword">of</span> t){<span class="hljs-keyword">const</span> t=n.<span class="hljs-property">FS</span>.<span class="hljs-title function_">stat</span>(<span class="hljs-string">`<span class="hljs-subst">${e}</span>/<span class="hljs-subst">${o}</span>`</span>),s=n.<span class="hljs-property">FS</span>.<span class="hljs-title function_">isDir</span>(t.<span class="hljs-property">mode</span>);r.<span class="hljs-title function_">push</span>({<span class="hljs-attr">name</span>:o,<span class="hljs-attr">isDir</span>:s})}<span class="hljs-keyword">return</span> r})(i);<span class="hljs-keyword">break</span>;<span class="hljs-keyword">case</span> t.<span class="hljs-property">DELETE_DIR</span>:f=(<span class="hljs-function">(<span class="hljs-params">{path:e}</span>)=&gt;</span>(n.<span class="hljs-property">FS</span>.<span class="hljs-title function_">rmdir</span>(e),!<span class="hljs-number">0</span>))(i);<span class="hljs-keyword">break</span>;<span class="hljs-keyword">case</span> t.<span class="hljs-property">MOUNT</span>:f=(<span class="hljs-function">(<span class="hljs-params">{fsType:e,options:t,mountPoint:r}</span>)=&gt;</span>{<span class="hljs-keyword">const</span> o=e,s=n.<span class="hljs-property">FS</span>.<span class="hljs-property">filesystems</span>[o];<span class="hljs-keyword">return</span>!!s&amp;&amp;(n.<span class="hljs-property">FS</span>.<span class="hljs-title function_">mount</span>(s,t,r),!<span class="hljs-number">0</span>)})(i);<span class="hljs-keyword">break</span>;<span class="hljs-keyword">case</span> t.<span class="hljs-property">UNMOUNT</span>:f=(<span class="hljs-function">(<span class="hljs-params">{mountPoint:e}</span>)=&gt;</span>(n.<span class="hljs-property">FS</span>.<span class="hljs-title function_">unmount</span>(e),!<span class="hljs-number">0</span>))(i);<span class="hljs-keyword">break</span>;<span class="hljs-attr">default</span>:<span class="hljs-keyword">throw</span> o}}<span class="hljs-keyword">catch</span>(e){<span class="hljs-keyword">return</span> <span class="hljs-keyword">void</span> self.<span class="hljs-title function_">postMessage</span>({<span class="hljs-attr">id</span>:E,<span class="hljs-attr">type</span>:t.<span class="hljs-property">ERROR</span>,<span class="hljs-attr">data</span>:e.<span class="hljs-title function_">toString</span>()})}f <span class="hljs-keyword">instanceof</span> <span class="hljs-title class_">Uint8Array</span>&amp;&amp;p.<span class="hljs-title function_">push</span>(f.<span class="hljs-property">buffer</span>),self.<span class="hljs-title function_">postMessage</span>({<span class="hljs-attr">id</span>:E,<span class="hljs-attr">type</span>:c,<span class="hljs-attr">data</span>:f},p)}})(),{}})()));
<span class="hljs-comment">//# sourceMappingURL=814.ffmpeg.js.map</span></div></div></div></main></body></html>